<div class="form-inline">
  <select class="form-control custom-select col-4" title="Templates" [ngModel]="selectedTemplate" (ngModelChange)="setSelectedTemplate($event)">
    <option *ngFor="let template of templates" [ngValue]="template" [selected]="selectedTemplate === template">
      {{template.name}}
    </option>
  </select>
  <button class="form-control btn btn-primary" (click)="openNewDlg(namePopup)">
    <span class="fa fa-plus"></span> New
  </button>
  <button class="form-control btn" (click)="openRenameDlg(namePopup)">
    <span class="fa fa-pencil-square-o"></span> Rename
  </button>
  <button class="form-control btn btn-danger" (click)="openDeleteDlg(deletePopup)">
    <span class="fa fa-trash"></span> Delete
  </button>
</div>

<app-template-view [template]="selectedTemplate"></app-template-view>

<ng-template #namePopup let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">{{nameDlgTitle}}</h4>
    <button type="button" class="close" (click)="d()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="form-group">
      <input type="text" class="form-control" placeholder="Template Name" title="Name" [(ngModel)]="editingName">
    </div>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="c()">Save</button>
    <button type="button" class="btn btn-danger" (click)="d()">Abort</button>
  </div>
</ng-template>

<ng-template #deletePopup let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">Delete Template</h4>
    <button type="button" class="close" (click)="d()">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
    Do you really want to delete the template {{selectedTemplate.name}}?
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-success" (click)="c()">Yes</button>
    <button type="button" class="btn btn-danger" (click)="d()">Abort</button>
  </div>
</ng-template>
